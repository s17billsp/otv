<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>OfflineTV & Friends Clips</title>
    <meta name="description" content="Watch the latest clips from OfflineTV in the last 7 days.">
    <meta name="robots" content="noindex,nofollow">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="assets/all.min.css" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="canonical" href="/">
    <meta property="og:title" content="OfflineTV & Friends Clips">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://offlinetv.live/clips">
    <meta property="og:image" content="https://offlinetv.live/assets/img/otv.jpg">
    <meta property="og:description" content="Watch the latest clips from OfflineTV in the last 7 days.">
    <style>
        body {
            background-image: linear-gradient(60deg, #29323c 0%, #485563 100%);
        }

        #clip .close {
            top: -28px;
            right: -28px;
        }

        .card-img-overlay:hover {
            cursor: pointer;
        }

        .card-img-overlay i {
            transition: all 200ms ease-in;
        }

        .card-img-overlay:hover i {
            font-size: 3.4em;
        }

        .card,
        .loader {
            background-color: #29323c;
        }
    </style>
</head>

<body>
    <header class="border-bottom border-secondary mb-5" id="header">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-dark px-0 py-3">
                <h1 class="hidden" hidden>OfflineTV &amp; Friends Clips</h1>
                <a href="/clips" class="navbar-brand d-flex align-items-center">
                    <img src="assets/img/otv.png" alt="OfflineTV logo" width="30px" height="30px" class="mr-2">
                    <strong>OfflineTV &amp; Friends Clips</strong>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar"
                    aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbar">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link text-white" href="/"><i class="fas fa-undo-alt mr-2"></i>Back to Status
                                Page</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="/clips"><i class="fas fa-film mr-2"></i>OTV Clips</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="/friends"><i class="fas fa-film mr-2"></i>Friends Clips</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link text-white" href="https://old.reddit.com/r/offlineTV/" target="_blank"
                                rel="noopener noreferrer"><i class="fab fa-reddit-alien mr-2"></i>Reddit</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="https://offlinetv.3blackdot.com/" target="_blank"
                                rel="noopener noreferrer"><i class="fas fa-tshirt mr-2"></i>Merch</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>
    <main role="main">
        <div class="container position-relative">
            <div class="row position-relative no-gutters">
                <div class="col-12 p-2">
                    <div class="d-flex align-items-center">
                        <h5 class="display-4 text-light"><i class="fab fa-twitch mr-3"></i>All Clips</h5>
                        <span class="badge badge-warning ml-3" data-toggle="tooltip" data-html="true" title="Clips from all creators are shown, OTV & Friends.<br><small>P.S. Hi Dunois ;)">Editor Mode</span>
                    </div>
                    <p class="lead text-light">Here are the top clips from OfflineTV &amp; Friends from the last 7 days or 24 hours.
                    </p>
                </div>
                <div class="col-12 px-2">
                    <ul class="nav nav-pills mb-3" id="pills-tab">
                        <li class="nav-item">
                            <a class="nav-link active text-white" id="week-tab" data-toggle="pill" href="#week"
                                onclick="getClips('week')">7
                                Days</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" id="day-tab" data-toggle="pill" href="#day"
                                onclick="getClips('day')">24 Hours</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="tab-content" id="pills-tabContent">
            <div class="container tab-pane fade show active" id="week">
                <div class="row position-relative no-gutters" id="weekClips">
                    <div class="fa-3x w-100 mx-2 loader text-center rounded">
                        <i class="fas fa-circle-notch fa-spin text-muted my-5"></i>
                    </div>
                </div>
            </div>
            <div class="container tab-pane fade" id="day">
                <div class="row position-relative no-gutters" id="dayClips">
                    <div class="fa-3x w-100 mx-2 loader text-center rounded">
                        <i class="fas fa-circle-notch fa-spin text-muted my-5"></i>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="text-muted mt-5">
        <div class="container">
            <div class="row no-gutters">
                <div class="col">
                    <p>This is a fan made project, I am not part of OfflineTV, I just wanted a place to get all the
                        latest content.<br><small>If you have any suggestions for the site or want to contact me, you
                            can message me on <a href="https://old.reddit.com/message/compose/?to=DrunkCatsnake"
                                class="text-white" target="_blank"><i class="fab fa-reddit-alien"></i>
                                reddit</a></small><a href="#header" class="text-white float-right"><i
                                class="fas fa-arrow-up"></i> Back to top</a></p>
                </div>
            </div>
        </div>
    </footer>
    <div class="modal fade" id="clip" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content bg-dark">
                <button type="button" class="close position-absolute" data-dismiss="modal" aria-label="Close">
                    <i class="fas fa-times-circle text-white"></i>
                </button>
                <div class="modal-body embed-responsive embed-responsive-16by9">
                    <iframe class="embed-responsive-item" src="" frameborder="0" scrolling="no" allowfullscreen="true"
                        allow="autoplay; fullscreen"></iframe>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script type="text/javascript">
        // Load the clip when play button clicked
        function playClip(url) {
            $('#clip iframe').attr('src', url + '&parent=' + window.location.host + '&autoplay=true');
            $('#clip').modal('show');
        }
        // Format the number of views with thousands separator
        function parse(n) {
            return n.toLocaleString()
        }
        // Get clips from the API and add them to the page
        function getClips(timeframe) {
            if (timeframe == 'week') {
                var api_url = 'https://api.offlinetv.live/clips?timeframe=week&group=all';
                var target = '#weekClips';
            } else if (timeframe == 'day') {
                var api_url = 'https://api.offlinetv.live/clips?timeframe=day&group=all';
                var target = '#dayClips';
            }
            // Don't make more API calls if clips have already been loaded
            if ($(target).hasClass('loaded')) {
                return;
            }
            // API call to retrieve clips
            $.getJSON(api_url, function (data) {
                let items = [];
                $.each(data, function (i, clip) {
                    let timestamp = moment(clip.created_at);
                    let html = $([
                        "<div class='col-12 col-sm-6 col-md-6 col-lg-4 p-2'>",
                        "  <div class='card border-0 text-light my-2'>",
                        "    <div class='embed-responsive embed-responsive-16by9'>",
                        "      <img class='card-image-top embed-responsive-item rounded-top' src='" + clip.thumbnail_url + "' alt=''>",
                        "      <div class='card-img-overlay d-flex justify-content-center align-items-center' onclick='playClip(\"" + clip.embed_url + "\")'>",
                        "        <i class='fas fa-play-circle fa-3x'></i>",
                        "      </div>",
                        "    </div>",
                        "    <div class='card-body p-3'>",
                        "      <h5 class='card-title mb-2'><img src='" + clip.avatar + "' alt='" + clip.broadcaster_name + " avatar' width='30px' height='30px' class='rounded-circle mr-2'><a href='https://www.twitch.tv/" + clip.broadcaster_name + "' target='_blank' class='text-white'>" + clip.broadcaster_name + "</a></h5>",
                        "      <p class='card-text text-truncate'>" + clip.title + "</p>",
                        "    </div>",
                        "    <div class='card-footer px-3'>",
                        "      <p class='card-text'><small class='text-muted float-left'><i class='fas fa-calendar-alt'></i> " + timestamp.fromNow() + "<i class='ml-3 fas fa-eye'></i> " + parse(clip.view_count) + "</small><small class='float-right'><a href='" + clip.url + "' class='float-right text-white' target='_blank'>Watch on <i class='fab fa-twitch ml-1'></i></a></small></p>",
                        "    </div>",
                        "  </div>",
                        "</div>",
                    ].join("\n"));
                    $(target).append(html).addClass('loaded').find('.loader').fadeOut();
                });
            });
        }
        $(document).ready(function () {
            // Unload the clip when the modal is closed
            $('#clip').on('hide.bs.modal', function (e) {
                $(this).find('iframe').attr('src', '');
            })
            // Initialise bootstrap tooltips
            $('[data-toggle="tooltip"]').tooltip();
            getClips('week');
        });
    </script>
</body>

</html>